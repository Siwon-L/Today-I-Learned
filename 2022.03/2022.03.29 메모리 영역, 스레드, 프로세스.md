# 학습내용
- 메모리 영역
- 스레드, 프로세스

## 메모리란
> CUP가 프로그램을 실행시키기 위해 해당 데이터를 보조기억장치로 부터 읽어와 임시로 저장해두는 곳, 메모리에 등록된 프로그램만 실행가능한 상태가 된다.

메모리엔 크게 4가지 영역으로 나눠진다.
Code(Text), Data, Heap, Stack영역으로 구분 짓는다.

<img src="https://i.imgur.com/1pn4xcJ.png" width="400">

## Code(Text)
Code 영역은 실행할 프로그램의 코드가 기계어의 형태로 담기는 공간이다. 프로그램이 종료될 때 메모리에서 해제되며, 저장된 데이터가 변형되면 안 되기 때문에, Read-Only로 저장된다.
## Data
Data 영역은 코드에서 선언한 전역 / static 변수 등 저장되는 공간 변수는 중간에 수정이 될 수 있기 때문에 Read-Write로 저장된다.
## Heap
Heap 영역은 필요할 때마다 사용되는 메모리 영역 Heap은 런타임 시에 결정된다. 메모리의 크기가 정해진 것이 아니기 때문에, 데이터의 크기가 확실하지 않을 때 주로 사용된다. 또한 사용을 다한 데이터는 꼭 해제 시켜줘야 한다. 데이터 누수가 발생할 수 있다. 타입 인스턴스가 주로 Heap 영역에 할당됨. 메모리의 크기에 대한 제한이 없음(하지만, Heap 또한 오버플로가 발생할 수 있음) Heap에 저장된 데이터는 전역에서 사용할 수 있음. 하지만, 속도가 비교적 느림

## Stack
함수 호출 시 필요한 데이터(지역변수, 파라미터, 리턴 값 등)를 저장하는 공간 함수가 동작하는 동안만 사용되며, 함수 동작이 끝나면, 메모리에서 데이터 해제 컴파일 타임에 결정 때문에 크기가 정해져 있다. 자료구조 Stack과 같은 데이터 입/출 구조를 가지고 있음(last in, first out) 또한 속도가 빠름 하지만, 저장된 데이터는 해당 함수에서만 쓰일 수 있다. 스택 같은 경우 영역이 정해져 있기 때문에 이를 넘어가면 오버플로가 발생(예를 들어, 무한 재귀 함수를 호출하였을 때) 오버플로가 발생

## 오버플로
> 데이터가 많아져 정해진 영역을 초과해서 발생하는 것

오버플로가 발생하면, 메모리는 해당 프로그램을 죽임으로써 다른 영역을 보호하지만 위에서 말했듯 Stack에서 주로 오버플로가 발생하지만, Heap 또한 오버플로가 발생할 수 있다. 이는 두 영역이 공간을 공유하기 때문, 따라서 Heap 영역 또한 데이터가 많아져 영역이 점점 커지다가 Stack 영역과 만나면 오버플로가 발생하는 것
## 프로세스


<img src="https://i.imgur.com/lNvC0WP.png" width="300">

프로그램이 동작하며 메모리에 올라가게 되는데 Code, Data, Stack, Heap의 묶음으로 메모리 영역을 할당받고 등록된다. 이때 묶음을 프로세스 단위로 메모리 위에 올라가 다른 프로세스와는 독립된 형태로 동작하게 된다.

## 스레드

프로세스 내부 Stack 영역만 따로 스레드라는 이름으로 독립적으로 할당받을 수 있다.
프로세스 내부 여러 스레드를 두어 다른 영역을 공유하며, 스레드 끼리는 독립적으로 행위를 할 수 있다. 때문에 프로그램에서 한 번에 여러 동작을 할 수 있음

<img src="https://i.imgur.com/I9Dd0DP.png" width="400">
