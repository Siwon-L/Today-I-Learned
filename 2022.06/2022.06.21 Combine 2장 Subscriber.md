# Combine 2ì¥: Subscriber
###### tags: `Combine` 

## [Subscriber](https://developer.apple.com/documentation/combine/subscriber)
> A protocol that declares a type that can receive input from a publisher.
> ê²Œì‹œìë¡œë¶€í„° ì…ë ¥ì„ ë°›ì„ ìˆ˜ ìˆëŠ” í˜•ì‹ì„ ì„ ì–¸í•˜ëŠ” í”„ë¡œí† ì½œì…ë‹ˆë‹¤.

`Subscriber`ëŠ” ê³µì‹ë¬¸ì„œì—ë„ ì“°ì—¬ìˆë“¯ í”„ë¡œí† ì½œ `Subscriber`ë¥¼ ì±„íƒë°›ì€ íƒ€ì…ì€ `Publisher`ë¡œ ë¶€í„° ë°©ì¶œëœ ê°’ì„ ë°›ì„ ìˆ˜ ìˆëŠ” ë…€ì…•ì´ ëœë‹¤. ì½”ë“œë¡œ ë³´ë©´,

```swift
class CustemSubscriber: Subscriber {
    
    
    typealias Input = String
    
    typealias Failure = Never
    
    func receive(subscription: Subscription) {
        print("êµ¬ë… ì‹œì‘")
        subscription.request(.max(1))
    }
    
    func receive(_ input: String) -> Subscribers.Demand {
        print("\(input)")
        return .max(1)
    }
    
    func receive(completion: Subscribers.Completion<Never>) {
        print("ì‘ì—… ì™„ë£Œ", completion)
    }
}
```

ìœ„ ì²˜ëŸ¼ `Subscriber` í”„ë¡œí† ì½œì„ ì²´íƒí•˜ê²Œ ë˜ë©´, ë‘ `typealias`ì™€ 3ê°œì˜ `receive` ë©”ì„œë“œë¥¼ êµ¬í˜„í•´ì•¼ í•œë‹¤. 

í•˜ë‚˜ì”© ì •ë¦¬í•´ë³´ë©´,
- `Input`: ì „ë‹¬ ë°›ëŠ” ê°’ì˜ íƒ€ì…ì´ë‹¤.
- `Failure`: ì—ëŸ¬ íƒ€ì…ì— í•´ë‹¹. ì—ëŸ¬ë¥¼ ë°›ì§€ ì•ŠëŠ” ê²½ìš° `Never`
- `receive(subscription: Subscription)`: `Publisher`ì™€ `Subscriber`ê°€ ì—°ê²°ë˜ë©´ í˜¸ì¶œë˜ëŠ” ë©”ì„œë“œ,`request`ë¥¼ í†µí•´ ë°›ì„ ìˆ˜ ìˆëŠ” ê°’ì˜ ìˆ˜ë¥¼ ì •í•´ì¤€ë‹¤.
    - `.unlimited` : ì œí•œ ì—†ìŒ
    - `.max(n)` : ìµœëŒ€ n ê°œ
    - `.none` : ìš”ì²­ì„ ë°›ì§€ ì•Šê² ë‹¤.
- `receive(_ input: String) -> Subscribers.Demand`: ë°›ì€ `input`ì„ ì²˜ë¦¬í•˜ëŠ” ë¡œì§ë° ì¶”ê°€ë¡œ ìš”ì²­ì„ ë°›ì„ ìˆ˜ë¥¼ ë¦¬í„´í•œë‹¤. (`input`ì´ ë“¤ì–´ì˜¬ ë•Œ ë§ˆë‹¤ í˜¸ì¶œë¨.)
- `receive(completion: Subscribers.Completion<Never>)`: ìš”ì²­ì´ ëë‚˜ë©´ í˜¸ì¶œë˜ëŠ” ë©”ì„œë“œ

```swift
let publisher = ["ì‚¬ì", "í˜¸ë‘ì´", "ê³°", "ì½”ë¼ë¦¬"].publisher
publisher.subscribe(CustemSubscriber())
/*
êµ¬ë… ì‹œì‘
ì‚¬ì
í˜¸ë‘ì´
ê³°
ì½”ë¼ë¦¬
ì‘ì—… ì™„ë£Œ finished
*/
```

ìœ„ ê°™ì€ ë°©ë²•ìœ¼ë¡œ `Subscriber` íƒ€ì…ì„ ë§Œë“¤ì–´ `Publisher` í†µí•´ ë°©ì¶œëœ ê°’ì„ ë°›ì•„ ì²˜ë¦¬í•  ìˆ˜ ìˆë‹¤....
ê·¼ë° ì´ê±° ì–¸ì œ ë§Œë“¤ê³  ìˆì–´???

ê·¸ë ‡ë‹¤ ë•Œë¬¸ì—, ì• í”Œì€ `Publisher`ì˜ `sink`ì´ë¼ëŠ” ë©”ì„œë“œë¥¼ í†µí•´ ìœ„ê°™ì´ `Subscriber`ë¥¼ ì§ì ‘ ë§Œë“¤ì§€ ì•Šì•„ë„ ë˜ë„ë¡ êµ¬í˜„í•´ ë†¨ë‹¤. ğŸ˜…


